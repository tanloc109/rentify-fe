export const batches = [
    {
        id: 1,
        batchCode: "B001",
        batchSize: 500,
        quantity: 200,
        vaccineId: 1,
        vaccineCode: "Moderna",
        vaccineName: "Moderna COVID-19 Vaccine",
        imported: "2024-01-10T08:00:00",
        expiration: "2025-01-10T08:00:00",
        warehouseId: 1,
        warehouseName: "Central Warehouse",
        warehouseCapacity: 5000,
    },
    {
        id: 2,
        batchCode: "B002",
        batchSize: 400,
        quantity: 150,
        vaccineId: 1,
        vaccineCode: "Moderna",
        vaccineName: "Moderna COVID-19 Vaccine",
        imported: "2024-02-15T08:00:00",
        expiration: "2025-02-15T08:00:00",
        warehouseId: 2,
        warehouseName: "East Warehouse",
        warehouseCapacity: 4000,
    },
    {
        id: 3,
        batchCode: "B003",
        batchSize: 600,
        quantity: 300,
        vaccineId: 2,
        vaccineCode: "Pfizer-BioNTech",
        vaccineName: "Pfizer COVID-19 Vaccine",
        imported: "2024-01-20T08:00:00",
        expiration: "2025-01-20T08:00:00",
        warehouseId: 1,
        warehouseName: "Central Warehouse",
        warehouseCapacity: 5000,
    },
    {
        id: 4,
        batchCode: "B004",
        batchSize: 350,
        quantity: 120,
        vaccineId: 2,
        vaccineCode: "Pfizer-BioNTech",
        vaccineName: "Pfizer COVID-19 Vaccine",
        imported: "2024-03-05T08:00:00",
        expiration: "2025-03-05T08:00:00",
        warehouseId: 3,
        warehouseName: "West Warehouse",
        warehouseCapacity: 3000,
    },
    {
        id: 5,
        batchCode: "B005",
        batchSize: 200,
        quantity: 80,
        vaccineId: 3,
        vaccineCode: "AstraZeneca",
        vaccineName: "AstraZeneca COVID-19 Vaccine",
        imported: "2024-02-10T08:00:00",
        expiration: "2025-02-10T08:00:00",
        warehouseId: 2,
        warehouseName: "East Warehouse",
        warehouseCapacity: 4000,
    },
    {
        id: 6,
        batchCode: "B006",
        batchSize: 450,
        quantity: 200,
        vaccineId: 3,
        vaccineCode: "AstraZeneca",
        vaccineName: "AstraZeneca COVID-19 Vaccine",
        imported: "2024-04-01T08:00:00",
        expiration: "2025-04-01T08:00:00",
        warehouseId: 1,
        warehouseName: "Central Warehouse",
        warehouseCapacity: 5000,
    },
    {
        id: 7,
        batchCode: "B007",
        batchSize: 300,
        quantity: 140,
        vaccineId: 4,
        vaccineCode: "Janssen",
        vaccineName: "Janssen COVID-19 Vaccine",
        imported: "2024-01-25T08:00:00",
        expiration: "2025-01-25T08:00:00",
        warehouseId: 3,
        warehouseName: "West Warehouse",
        warehouseCapacity: 3000,
    },
    {
        id: 8,
        batchCode: "B008",
        batchSize: 550,
        quantity: 250,
        vaccineId: 5,
        vaccineCode: "Sinovac",
        vaccineName: "Sinovac COVID-19 Vaccine",
        imported: "2024-02-28T08:00:00",
        expiration: "2025-02-28T08:00:00",
        warehouseId: 2,
        warehouseName: "East Warehouse",
        warehouseCapacity: 4000,
    },
    {
        id: 9,
        batchCode: "B009",
        batchSize: 600,
        quantity: 300,
        vaccineId: 6,
        vaccineCode: "Novavax",
        vaccineName: "Novavax COVID-19 Vaccine",
        imported: "2024-03-10T08:00:00",
        expiration: "2025-03-10T08:00:00",
        warehouseId: 1,
        warehouseName: "Central Warehouse",
        warehouseCapacity: 5000,
    },
    {
        id: 10,
        batchCode: "B010",
        batchSize: 250,
        quantity: 100,
        vaccineId: 7,
        vaccineCode: "Sputnik V",
        vaccineName: "Sputnik V COVID-19 Vaccine",
        imported: "2024-04-15T08:00:00",
        expiration: "2025-04-15T08:00:00",
        warehouseId: 3,
        warehouseName: "West Warehouse",
        warehouseCapacity: 3000,
    },
    {
        id: 11,
        batchCode: "B011",
        batchSize: 700,
        quantity: 350,
        vaccineId: 8,
        vaccineCode: "Covaxin",
        vaccineName: "Bharat Biotech Covaxin",
        imported: "2024-05-01T08:00:00",
        expiration: "2025-05-01T08:00:00",
        warehouseId: 1,
        warehouseName: "Central Warehouse",
        warehouseCapacity: 5000,
    },
    {
        id: 12,
        batchCode: "B012",
        batchSize: 400,
        quantity: 160,
        vaccineId: 9,
        vaccineCode: "Covovax",
        vaccineName: "Serum Institute Covovax",
        imported: "2024-02-20T08:00:00",
        expiration: "2025-02-20T08:00:00",
        warehouseId: 2,
        warehouseName: "East Warehouse",
        warehouseCapacity: 4000,
    },
    {
        id: 13,
        batchCode: "B013",
        batchSize: 300,
        quantity: 120,
        vaccineId: 10,
        vaccineCode: "EpiVacCorona",
        vaccineName: "EpiVacCorona COVID-19 Vaccine",
        imported: "2024-06-10T08:00:00",
        expiration: "2025-06-10T08:00:00",
        warehouseId: 3,
        warehouseName: "West Warehouse",
        warehouseCapacity: 3000,
    },
    {
        id: 14,
        batchCode: "B014",
        batchSize: 500,
        quantity: 250,
        vaccineId: 10,
        vaccineCode: "EpiVacCorona",
        vaccineName: "EpiVacCorona COVID-19 Vaccine",
        imported: "2024-07-01T08:00:00",
        expiration: "2025-07-01T08:00:00",
        warehouseId: 1,
        warehouseName: "Central Warehouse",
        warehouseCapacity: 5000,
    },
    {
        id: 15,
        batchCode: "B015",
        batchSize: 350,
        quantity: 140,
        vaccineId: 6,
        vaccineCode: "Novavax",
        vaccineName: "Novavax COVID-19 Vaccine",
        imported: "2024-08-15T08:00:00",
        expiration: "2025-08-15T08:00:00",
        warehouseId: 2,
        warehouseName: "East Warehouse",
        warehouseCapacity: 4000,
    },
];

export const vaccines = [
    { vaccineId: 1, vaccineCode: "Moderna", vaccineName: "Moderna COVID-19 Vaccine" },
    { vaccineId: 2, vaccineCode: "Pfizer-BioNTech", vaccineName: "Pfizer COVID-19 Vaccine" },
    { vaccineId: 3, vaccineCode: "AstraZeneca", vaccineName: "AstraZeneca COVID-19 Vaccine" },
    { vaccineId: 4, vaccineCode: "Janssen", vaccineName: "Janssen COVID-19 Vaccine" },
    { vaccineId: 5, vaccineCode: "Sinovac", vaccineName: "Sinovac COVID-19 Vaccine" },
    { vaccineId: 6, vaccineCode: "Novavax", vaccineName: "Novavax COVID-19 Vaccine" },
    { vaccineId: 7, vaccineCode: "Sputnik V", vaccineName: "Sputnik V COVID-19 Vaccine" },
    { vaccineId: 8, vaccineCode: "Covaxin", vaccineName: "Bharat Biotech Covaxin" },
    { vaccineId: 9, vaccineCode: "Covovax", vaccineName: "Serum Institute Covovax" },
    { vaccineId: 10, vaccineCode: "EpiVacCorona", vaccineName: "EpiVacCorona COVID-19 Vaccine" },
];

export const warehouses = [
    { warehouseId: 1, warehouseName: "Central Warehouse", warehouseCapacity: 5000 },
    { warehouseId: 2, warehouseName: "East Warehouse", warehouseCapacity: 4000 },
    { warehouseId: 3, warehouseName: "West Warehouse", warehouseCapacity: 3000 },
];

export const addBatch = ({
    batchCode,
    batchSize,
    vaccineId,
    imported,
    expiration,
    warehouseId,
}) => {
    if (!batchCode) throw new Error("Batch code is required.");
    if (typeof batchSize !== 'number' || batchSize <= 0) throw new Error("Batch size must be a positive number.");
    if (!vaccineId) throw new Error("Vaccine ID is required.");
    if (!imported) throw new Error("Imported date is required.");
    if (!expiration) throw new Error("Expiration date is required.");
    if (!warehouseId) throw new Error("Warehouse ID is required.");

    const dateRegex = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/;
    if (!dateRegex.test(imported)) throw new Error("Imported date must be in the format yyyy-MM-ddTHH:mm:ss.");
    if (!dateRegex.test(expiration)) throw new Error("Expiration date must be in the format yyyy-MM-ddTHH:mm:ss.");
    if (new Date(expiration) <= new Date(imported)) throw new Error("Expiration date must be after the imported date.");

    const warehouse = warehouses.find((w) => w.warehouseId === warehouseId);
    if (!warehouse) throw new Error("Invalid warehouse ID.");

    const vaccine = vaccines.find((v) => v.vaccineId === vaccineId);
    if (!vaccine) throw new Error("Invalid vaccine ID.");

    const batch = {
        id: batches.length + 2,
        batchCode: batchCode,
        batchSize: batchSize,
        quantity: batchSize,
        vaccineId: vaccineId,
        vaccineCode: vaccine.vaccineCode,
        vaccineName: vaccine.vaccineName,
        imported: imported,
        expiration: expiration,
        warehouseId: warehouseId,
        warehouseName: warehouse.warehouseName,
        warehouseCapacity: warehouse.warehouseCapacity,
    };

    batches.push(batch);
};

export const editBatch = (
    { batchId, batchCode, batchSize, quantity, vaccineId, imported, expiration, warehouseId }
) => {
    if (!batchId) throw new Error("Batch ID is required.");
    if (!batchCode) throw new Error("Batch code is required.");
    if (typeof batchSize !== 'number' || batchSize <= 0) throw new Error("Batch size must be a positive number.");
    if (typeof quantity !== 'number' || quantity < 0) throw new Error("Quantity must be a non-negative number.");
    if (!vaccineId) throw new Error("Vaccine ID is required.");
    if (!imported) throw new Error("Imported date is required.");
    if (!expiration) throw new Error("Expiration date is required.");
    if (!warehouseId) throw new Error("Warehouse ID is required.");

    if (quantity > batchSize) throw new Error("Quantity must be less than or equal to the batch size.");

    const dateRegex = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/;
    if (!dateRegex.test(imported)) throw new Error("Imported date must be in the format yyyy-MM-ddTHH:mm:ss.");
    if (!dateRegex.test(expiration)) throw new Error("Expiration date must be in the format yyyy-MM-ddTHH:mm:ss.");
    if (new Date(expiration) <= new Date(imported)) throw new Error("Expiration date must be after the imported date.");

    const existingBatch = batches.find((b) => b.id === batchId);
    if (!existingBatch) throw new Error("Invalid batch ID.");

    const warehouse = warehouses.find((w) => w.warehouseId === warehouseId);
    if (!warehouse) throw new Error("Invalid warehouse ID.");

    const vaccine = vaccines.find((v) => v.vaccineId === vaccineId);
    if (!vaccine) throw new Error("Invalid vaccine ID.");

    existingBatch.batchCode = batchCode;
    existingBatch.batchSize = batchSize;
    existingBatch.quantity = quantity;
    existingBatch.imported = imported;
    existingBatch.expiration = expiration;
    existingBatch.vaccineId = vaccineId;
    existingBatch.vaccineCode = vaccine.vaccineCode;
    existingBatch.vaccineName = vaccine.vaccineName;
    existingBatch.warehouseId = warehouseId;
    existingBatch.warehouseName = warehouse.warehouseName;
    existingBatch.warehouseCapacity = warehouse.warehouseCapacity;
};

export const deleteBatches = (batchIds) => {
    if (!batchIds || batchIds.length === 0) throw new Error("Batch IDs are required.");

    batchIds.forEach((batchId) => {
        const index = batches.findIndex((b) => b.id === batchId);
        if (index >= 0) {
            batches.splice(index, 1);
        }
    });
}